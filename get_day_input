if [ -z "$1" ] || [ -z "$2" ]; then
  echo "Usage: make_day <year> <day>"
  exit 1
fi

# Set variables
year="$1"
day="$2"
dir_name="$year/day$day"
url="https://adventofcode.com/$year/day/$day/input"

cookie_file="$(pwd)/.aoc_session"
# get current directory

echo cockie_file: $cookie_file

# Fetch the input file
echo "Fetching input file from Advent of Code..."
curl -s -H "Cookie: session=$(cat $cookie_file)" "$url" -o "$dir_name/input.txt"

# Check if the fetch was successful
if [ $? -eq 0 ] && [ -s "$dir_name/input.txt" ]; then
  echo "Input file saved to '$dir_name/input.txt'."
else
  echo "Failed to fetch the input file. Please check your session cookie and the day number."
  rm -f "$dir_name/input.txt"  # Remove the empty input file
fi